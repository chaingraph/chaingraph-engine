mutation upsert_table_row(
  $chain_id: String = ""
  $contract: String = ""
  $table: String = ""
  $scope: String = ""
  $primary_key: String = ""
  $data: jsonb = ""
) {
  insert_table_rows_one(
    object: { chain_id: $chain_id, contract: $contract, table: $table, scope: $scope, primary_key: $primary_key, data: $data }
    on_conflict: { constraint: tables_pkey, update_columns: data }
  ) {
    chain_id
    contract
    table
    scope
    primary_key
    data
  }
}

mutation update_block_height($chain_id: String!, $block_num: numeric, $block_id: String) {
  update_chains_by_pk(pk_columns: { chain_id: $chain_id }, _set: { block_id: $block_id, block_num: $block_num }) {
    block_id
    block_num
    chain_id
    name
    rpc_endpoint
  }
}
